<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giỏ hàng</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Old+Mincho:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/assets/font/fontawesome-free-5.15.2-web/css/all.min.css">
    <link rel="icon" href="/assets/img/Home/logo.png">
    <link rel="stylesheet" href="/assets/Grid layout/grid.css">
    <link rel="stylesheet" href="/assets/css/base.css">
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/footer.css">
    <link rel="stylesheet" href="/assets/css/category.css">
    <link rel="stylesheet" href="/assets/css/admin.css">
    <link rel="stylesheet" href="/assets/css/cart.css">

</head>
<body>

<div class="app">
    <div class="loader__wrap">
        <i class="loader">
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
        </i>
    </div>

    <!-- Header start -->
    <div class="header">
        <div class="grid wide">
            <div class="header__top">
                <div class="header__top-head hide-on-mobile-tablet">
                    <div class="header__social">
                        <span>Follow us:</span>
                        <a href="" class="header__social-link"><i class="fab fa-facebook"></i></a>
                        <a href="" class="header__social-link"><i class="fab fa-instagram"></i></a>
                        <a href="" class="header__social-link"><i class="fab fa-linkedin"></i></a>
                    </div>
                    <div class="header__user">
                        <span th:if="${account!=null}">
                            <span class="header__user-login" sec:authorize="isAuthenticated()">
                                <a href="/" class="header__user-link"><span th:text="${account.fullName}"></span></a>
                            </span>
                            <span class="header__user-login" sec:authorize="isAuthenticated()">
                                <a href="/logout" class="header__user-link"><span>Logout</span><i
                                        class="fas fa-sign-in-alt"></i></a>
                            </span>

                        </span>

                        <span th:if="${account==null}">
                            <span class="header__user-login" sec:authorize="isAuthenticated()">
                                <a href="/login" class="header__user-link"><span>Login</span><i
                                        class="fas fa-sign-in-alt"></i></a>
                            </span>
                            <span class="header__user-login" sec:authorize="isAuthenticated()">
                                <a href="/register" class="header__user-link"><span>Register</span><i
                                        class="fas fa-sign-in-alt"></i></a>
                            </span>
                        </span>

                    </div>
                </div>

                <div class="header__top-body">
                    <div class="header__logo">
                        <a href="/store" class="header__logo-link"><img src="/assets/img/logo.webp" alt=""></a>
                    </div>

                    <div class="header__search hide-on-mobile-tablet">
                        <input type="text" placeholder="Search here...">
                        <button>
                            <a href="" class="header__search-link"><i class="header__search-icon fas fa-search"></i></a>
                        </button>
                    </div>

                    <div class="header__cart">
                        <div class="header__search-on-tablet">
                            <i class="fas fa-search"></i>
                        </div>

                        <button class=""><a href="/store/show-cart"><i class="header__cart-icon fas fa-cart-plus"></i></a></button>

                        <label for="nav-mobile-input" class="nav__bars-btn">
                            <i class="fas fa-bars"></i>
                        </label>

                        <input type="checkbox" hidden name="" class="nav__input" id="nav-mobile-input">


                        <label for="nav-mobile-input" class="nav__overlay"></label>

                        <div class="navbar__mobile">
                            <label for="nav-mobile-input" class="nav__mobile-close">
                                <i class="fas fa-times"></i>
                            </label>

                            <ul class="nav__mobile-list">
                                <li class="nav__mobile-item"><a class="nav__mobile-link" href="/store">Home</a></li>
                                <li class="nav__mobile-item"><a class="nav__mobile-link" href="aboutus.html">About
                                    us</a></li>
                                <li class="nav__mobile-item">
                                    <input type="checkbox" hidden class="nav__input-product" id="nav__product-id">
                                    <label for="nav__product-id" class="nav__mobile-link">
                                        <span>Product</span>
                                        <i class="nav__mobile-icon fas fa-chevron-down"></i>
                                    </label>
                                    <div class="nav__mobile-product">
                                        <ul class="nav__mobile-product-list">
                                            <li class="nav__mobile-product-item"><a class="nav__mobile-product-link"
                                                                                    href="/store/showAllProducts">All</a>
                                            </li>
                                            <li class="nav__mobile-product-item"><a class="nav__mobile-product-link"
                                                                                    href="categoryIndoor.html">Indoor
                                                Living</a></li>
                                            <li class="nav__mobile-product-item"><a class="nav__mobile-product-link"
                                                                                    href="categoryPerennials.html">Perennials</a>
                                            </li>
                                            <li class="nav__mobile-product-item"><a class="nav__mobile-product-link"
                                                                                    href="categoryGift.html">Plant for
                                                Gift</a></li>
                                            <li class="nav__mobile-product-item"><a class="nav__mobile-product-link"
                                                                                    href="categoryAll.html">Garden
                                                Tools</a></li>
                                        </ul>
                                    </div>
                                </li>
                                <li class="nav__mobile-item"><a class="nav__mobile-link" href="">News</a></li>
                                <li class="nav__mobile-item" th:if="${account.userRole == 'ROLE_ADMIN'}">
                                    <a
                                            class="nav__mobile-link"
                                            href="">Manager</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="header__bottom hide-on-mobile-tablet">
        <div class="grid wide">
            <div class="navbar">
                <ul class="nav__list">
                    <li class="nav__item"><a href="/store" class="nav__item-link">Home</a></li>
                    <li class="nav__item"><a href="aboutus.html" class="nav__item-link">About us</a></li>
                    <li class="nav__item">
                        <a href="" class="nav__item-link">Product<i class="fas fa-chevron-down"
                                                                    id="nav__produce-icon"></i></a>

                        <div class="nav__produce">
                            <ul class="nav__produce-list">
                                <li class="nav__produce-item"><a href="/store/showAllProducts"
                                                                 class="nav__produce-link">All</a></li>
                                <li class="nav__produce-item"><a href="categoryIndoor.html" class="nav__produce-link">Indoor
                                    Living</a></li>
                                <li class="nav__produce-item"><a href="categoryPerennials.html"
                                                                 class="nav__produce-link">Perennials</a></li>
                                <li class="nav__produce-item"><a href="categoryGift.html" class="nav__produce-link">Plant
                                    for Gift</a></li>
                                <li class="nav__produce-item"><a href="categoryAll.html" class="nav__produce-link">Garden
                                    Tools</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="nav__item"><a href="" class="nav__item-link">News</a></li>
                    <li class="nav__item" th:if="${account.userRole=='ROLE_ADMIN'}"><a href="/admin" class="nav__item-link">Manager</a></li>
                </ul>
            </div>
        </div>
    </div>
    <!-- Header end -->

    <!-- Start cart -->

    <div class="cart">
        <div class="grid wide">
            <div class="cart__button row">
                <h2 class="cart__header col l-o-1">Your cart</h2>
                <!-- <div class="cart__button-selectall "></div> -->
                <div class="cart__button-buynow col l-o-5">
                    <button onclick="showModalOrder()">Buynow</button>
                    <a style="text-decoration: none; font-size: 20px; background-color: #617993; color: white; padding: 7px; border-radius: 3px;" href="/store/show-history">History</a>
                </div>
            </div>
            <div style="color: red" th:if="${message}">
                <p style="font-size: 18px;" th:text="${message}"></p>
            </div>
            <hr class="cart__header-bottom">
            <div class="cart__body grid">


                <div class="cart__body-item row" th:each="cart, state:${carts}">
                    <div class="cart-check col l-o-1"></div>

                    <div class="cart-img col l-2">
                        <img th:src="@{${cart.product.image}}" alt="">
                    </div>
                    <div class="cart-info col l-6">
                        <label class="info-text">
                            <p class="info-name" th:text="${cart.product.name}">></p>
                            <p class="info-price" th:text="${cart.product.priceOut}"></p>
                        </label>

                        <div class="cart-numberChange">
                            <div class="minus" onclick="minusNumber('1')">-</div>
                            <div class="cart-number"><span th:text="${cart.quantity}"></span></div>
                            <div class="plus" onclick="plusNumber(1)">+</div>
                        </div>
                    </div>
                    <div class="cart-button col l-1">
                        <div></div>
                        <button>Delete</button>
                    </div>
                    <div class="end-item" style="margin-top: 15px;"></div>
                </div>


            </div>
        </div>
    </div>

    <!-- End cart -->

    <!-- Start order -->
    <div id="modalOrder" class="modal">

        <!-- Modal content -->
        <div class="modal-content">
            <!-- <span class="close" onclick="closeOrder()"><i class="fas fa-times"></i></span> -->
            <h2>Order infomation</h2>
            <form th:action="@{/store/order}" method="post">
                <div class="productOrder grid" th:each="cart, state:${carts}">
                    <div class="productOrder-item row">
                        <div class="productOrder-item-img col l-3">
                            <img src="/assets/img/AllProduct/Fittonia.jpg" alt="">
                        </div>
                        <div class="productOrder-item-info col l-7">
                            <div class="productOrder-item-info-text">
                                <p class="productOrder-item-info-name" th:text="${cart.product.name}">Fittonia promia from England</p>
                                <p class="productOrder-item-info-price" th:text="${cart.product.priceOut}">$20.00</p>
                            </div>
                            <div class="productOrder-item-number">
                                Number: <div th:text="${cart.quantity}" class="item-number">3</div>
                            </div>
                        </div>
                        <div class="item-totalPrice col l-2">
                            <div></div>
                            <div  th:text="${cart.product.priceOut * cart.quantity}">20.00</div>
                        </div>
                    </div>
                    <hr>
                </div>

                <div class="productOrder-totalPrice">
                    Total: <div class="orderTotalPrice"><span th:text="${total}"></span></div>
                </div>
                <div class="order-address">
                    <label for="order-address">Address:</label>
                    <textarea th:name="orderAddress" id="order-address"></textarea>
                </div>
                <div class="modal-button" style="text-align: center;">
                    <input class="ok" id="addCategoryButton" type="submit" value="Order">
                    <input class="cancel" type="button" value="Cancel" onclick="closeOrder()">
                </div>
            </form>
        </div>
    </div>
    <!-- End order -->

    <footer class="footer">
        <div class="grid wide">
            <div class="row">
                <div class="col l-4 m-12 c-12 footer__info">
                    <img class="footer__logo" src="/assets/img/logo.webp" alt="logo">
                    <p class="footer__info-item">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Pariatur at doloremque libero sed cumque et, animi perspiciat</p>
                    <p class="footer__info-item">Address: 70 Dong Anh, Lien Ha 15, District 11, Ha Noi City</p>
                </div>
                <div class="col l-2 m-6 c-12">
                    <h3 class="footer__head">Useful links</h3>
                    <ul class="footer__list">
                        <li class="footer__item">
                            <a href="" class="footer__item-link">How to shop</a>
                        </li>
                        <li class="footer__item">
                            <a href="" class="footer__item-link">FAQ</a>
                        </li>
                        <li class="footer__item">
                            <a href="" class="footer__item-link">Log in</a>
                        </li>
                        <li class="footer__item">
                            <a href="" class="footer__item-link">Question?</a>
                        </li>
                        <li class="footer__item">
                            <a href="" class="footer__item-link">See More</a>
                        </li>
                    </ul>
                </div>
                <div class="col l-2 m-6 c-12">
                    <h3 class="footer__head">Contact us</h3>
                    <ul class="footer__list">
                        <li class="footer__item">
                            <a href="" class="footer__item-link">
                                Phone number: 0399620226
                            </a>
                        </li>
                        <li class="footer__item">
                            <a href="" class="footer__item-link">
                                Email: support@gmail.com
                            </a>
                        </li>
                        <!-- 4 bieu tuong mxh -->
                        <li class="footer__item-icon ">
                            <a href="" class="footer__icon"><i class="fab fa-facebook"></i></a>
                            <a href="" class="footer__icon"><i class="fab fa-twitter"></i></a>
                            <a href="" class="footer__icon"><i class="fab fa-instagram"></i></a>
                            <a href="" class="footer__icon"><i class="fab fa-pinterest"></i></a>
                        </li>
                    </ul>
                </div>
                <div class="col l-2 m-6 c-12">
                    <h3 class="footer__head">My Account</h3>
                    <ul class="footer__list">
                        <li class="footer__item">
                            <a href="" class="footer__item-link">Sign In</a>
                        </li>
                        <li class="footer__item">
                            <a href="" class="footer__item-link">View Cart</a>
                        </li>
                        <li class="footer__item">
                            <a href="" class="footer__item-link">My Whishlist</a>
                        </li>
                        <li class="footer__item">
                            <a href="" class="footer__item-link">Track My Order</a>
                        </li>
                        <li class="footer__item">
                            <a href="" class="footer__item-link">Help</a>
                        </li>
                    </ul>
                </div>
                <div class="col l-2 m-6 c-12">
                    <h3 class="footer__head">Our Service</h3>
                    <ul class="footer__list">
                        <li class="footer__item">
                            <a href="" class="footer__item-link">Payment Methods</a>
                        </li>
                        <li class="footer__item">
                            <a href="" class="footer__item-link">Money Guarantee!</a>
                        </li>
                        <li class="footer__item">
                            <a href="" class="footer__item-link">Returns</a>
                        </li>
                        <li class="footer__item">
                            <a href="" class="footer__item-link">Shipping</a>
                        </li>
                        <li class="footer__item">
                            <a href="" class="footer__item-link">Privacy Policy</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2021 Team One Made With &heartsuit;</p>
            </div>
        </div>
    </footer>
</div>

<script src="/assets/js/category.js"></script>
<script src="/assets/js/loginregister.js"></script>
<script src="/assets/js/cart.js"></script>

</body>
</html>